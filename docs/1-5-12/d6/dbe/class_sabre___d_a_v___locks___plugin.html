<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XenForo: Sabre_DAV_Locks_Plugin Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XenForo
   &#160;<span id="projectnumber">1.5.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/dbe/class_sabre___d_a_v___locks___plugin.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sabre_DAV_Locks_Plugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Sabre_DAV_Locks_Plugin:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d6/dbe/class_sabre___d_a_v___locks___plugin.png" usemap="#Sabre_5FDAV_5FLocks_5FPlugin_map" alt=""/>
  <map id="Sabre_5FDAV_5FLocks_5FPlugin_map" name="Sabre_5FDAV_5FLocks_5FPlugin_map">
<area href="../../db/db9/class_sabre___d_a_v___server_plugin.html" alt="Sabre_DAV_ServerPlugin" shape="rect" coords="0,0,162,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aece1094240922ef5fdaa189e41281bfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#aece1094240922ef5fdaa189e41281bfd">__construct</a> (<a class="el" href="../../d0/d5c/class_sabre___d_a_v___locks___backend___abstract.html">Sabre_DAV_Locks_Backend_Abstract</a> $locksBackend=null)</td></tr>
<tr class="separator:aece1094240922ef5fdaa189e41281bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa875dedc927a6ce31cc1655aa68bf6ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#aa875dedc927a6ce31cc1655aa68bf6ea">initialize</a> (<a class="el" href="../../dd/dbf/class_sabre___d_a_v___server.html">Sabre_DAV_Server</a> $server)</td></tr>
<tr class="separator:aa875dedc927a6ce31cc1655aa68bf6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c8af014d144f77035c7456d42f6724"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#ac6c8af014d144f77035c7456d42f6724">unknownMethod</a> ($method)</td></tr>
<tr class="separator:ac6c8af014d144f77035c7456d42f6724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e47fceda6518fa08c281b1a8686d6a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a4e47fceda6518fa08c281b1a8686d6a4">afterGetProperties</a> ($path, &amp;$newProperties)</td></tr>
<tr class="separator:a4e47fceda6518fa08c281b1a8686d6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00887cfb660d62c223753b02737d114c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a00887cfb660d62c223753b02737d114c">beforeMethod</a> ($method)</td></tr>
<tr class="separator:a00887cfb660d62c223753b02737d114c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44714ee16c6066d419e0cb618977eba0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a44714ee16c6066d419e0cb618977eba0">getHTTPMethods</a> ()</td></tr>
<tr class="separator:a44714ee16c6066d419e0cb618977eba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fc19c600322e93e3e3a3463410e7ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a96fc19c600322e93e3e3a3463410e7ca">getFeatures</a> ()</td></tr>
<tr class="separator:a96fc19c600322e93e3e3a3463410e7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534789852f586186a56355cc0369544c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a534789852f586186a56355cc0369544c">getLocks</a> ($uri)</td></tr>
<tr class="separator:a534789852f586186a56355cc0369544c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e4230107e7286fd97ba95af182f651"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#ab7e4230107e7286fd97ba95af182f651">lockNode</a> ($uri, <a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> $lockInfo)</td></tr>
<tr class="separator:ab7e4230107e7286fd97ba95af182f651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd58e95113d73ac597fe0cc9f31f3ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a2cd58e95113d73ac597fe0cc9f31f3ba">unlockNode</a> ($uri, <a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> $lockInfo)</td></tr>
<tr class="separator:a2cd58e95113d73ac597fe0cc9f31f3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614692d562aa480843999e2ca6a78466"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a614692d562aa480843999e2ca6a78466">getTimeoutHeader</a> ()</td></tr>
<tr class="separator:a614692d562aa480843999e2ca6a78466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bd0a8bfc0e44368f4ee06826e9d46a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a48bd0a8bfc0e44368f4ee06826e9d46a">getIfConditions</a> ()</td></tr>
<tr class="separator:a48bd0a8bfc0e44368f4ee06826e9d46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_sabre___d_a_v___server_plugin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_sabre___d_a_v___server_plugin')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../db/db9/class_sabre___d_a_v___server_plugin.html">Sabre_DAV_ServerPlugin</a></td></tr>
<tr class="memitem:aa875dedc927a6ce31cc1655aa68bf6ea inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/db9/class_sabre___d_a_v___server_plugin.html#aa875dedc927a6ce31cc1655aa68bf6ea">initialize</a> (<a class="el" href="../../dd/dbf/class_sabre___d_a_v___server.html">Sabre_DAV_Server</a> $server)</td></tr>
<tr class="separator:aa875dedc927a6ce31cc1655aa68bf6ea inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fc19c600322e93e3e3a3463410e7ca inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/db9/class_sabre___d_a_v___server_plugin.html#a96fc19c600322e93e3e3a3463410e7ca">getFeatures</a> ()</td></tr>
<tr class="separator:a96fc19c600322e93e3e3a3463410e7ca inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44714ee16c6066d419e0cb618977eba0 inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/db9/class_sabre___d_a_v___server_plugin.html#a44714ee16c6066d419e0cb618977eba0">getHTTPMethods</a> ()</td></tr>
<tr class="separator:a44714ee16c6066d419e0cb618977eba0 inherit pub_methods_class_sabre___d_a_v___server_plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acb4e905c71b4daf4f6c36a58a6a91213"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#acb4e905c71b4daf4f6c36a58a6a91213">httpLock</a> ()</td></tr>
<tr class="separator:acb4e905c71b4daf4f6c36a58a6a91213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed27152a41aae640bd6413945d9061a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a1ed27152a41aae640bd6413945d9061a">httpUnlock</a> ()</td></tr>
<tr class="separator:a1ed27152a41aae640bd6413945d9061a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa86240d7daa63f7ec0c4ac99e288a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a6aa86240d7daa63f7ec0c4ac99e288a4">generateLockResponse</a> (<a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> $lockInfo)</td></tr>
<tr class="separator:a6aa86240d7daa63f7ec0c4ac99e288a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404f18e675b2a881d25cf48cf309ed15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#a404f18e675b2a881d25cf48cf309ed15">validateLock</a> ($urls=null, &amp;$lastLock=null)</td></tr>
<tr class="separator:a404f18e675b2a881d25cf48cf309ed15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af119741122fbe8bf5058ffa4bd186c11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html#af119741122fbe8bf5058ffa4bd186c11">parseLockRequest</a> ($body)</td></tr>
<tr class="separator:af119741122fbe8bf5058ffa4bd186c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aece1094240922ef5fdaa189e41281bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece1094240922ef5fdaa189e41281bfd">&#9670;&nbsp;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d5c/class_sabre___d_a_v___locks___backend___abstract.html">Sabre_DAV_Locks_Backend_Abstract</a>&#160;</td>
          <td class="paramname"><em>$locksBackend</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>__construct</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d5c/class_sabre___d_a_v___locks___backend___abstract.html">Sabre_DAV_Locks_Backend_Abstract</a></td><td class="paramname">$locksBackend</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e47fceda6518fa08c281b1a8686d6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e47fceda6518fa08c281b1a8686d6a4">&#9670;&nbsp;</a></span>afterGetProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterGetProperties </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$newProperties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is called after most properties have been found it allows us to add in any Lock-related properties</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$properties</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a00887cfb660d62c223753b02737d114c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00887cfb660d62c223753b02737d114c">&#9670;&nbsp;</a></span>beforeMethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beforeMethod </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is called before the logic for any HTTP method is handled.</p>
<p>This plugin uses that feature to intercept access to locked resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a6aa86240d7daa63f7ec0c4ac99e288a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa86240d7daa63f7ec0c4ac99e288a4">&#9670;&nbsp;</a></span>generateLockResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">generateLockResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a>&#160;</td>
          <td class="paramname"><em>$lockInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates the response for successfull LOCK requests</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a></td><td class="paramname">$lockInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a id="a96fc19c600322e93e3e3a3463410e7ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96fc19c600322e93e3e3a3463410e7ca">&#9670;&nbsp;</a></span>getFeatures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFeatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a list of features for the HTTP OPTIONS Dav: header.</p>
<p>In this case this is only the number 2. The 2 in the Dav: header indicates the server supports locks.</p>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="a44714ee16c6066d419e0cb618977eba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44714ee16c6066d419e0cb618977eba0">&#9670;&nbsp;</a></span>getHTTPMethods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getHTTPMethods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>New HTTP methods defined by this plugin</p>
<p>This list is only used for the Allow: header in the HTTP OPTIONS request.</p>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="a48bd0a8bfc0e44368f4ee06826e9d46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48bd0a8bfc0e44368f4ee06826e9d46a">&#9670;&nbsp;</a></span>getIfConditions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getIfConditions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is created to extract information from the WebDAV HTTP 'If:' header</p>
<p>The If header can be quite complex, and has a bunch of features. We're using a regex to extract all relevant information The function will return an array, containg structs with the following keys</p>
<ul>
<li>uri - the uri the condition applies to. This can be an empty string for 'every relevant url'</li>
<li>tokens - The lock token. another 2 dimensional array containg 2 elements (0 = true/false.. If this is a negative condition its set to false, 1 = the actual token)</li>
<li>etag - an etag, if supplied</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a534789852f586186a56355cc0369544c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534789852f586186a56355cc0369544c">&#9670;&nbsp;</a></span>getLocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLocks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns all lock information on a particular uri</p>
<p>This function should return an array with <a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> objects. If there are no locks on a file, return an empty array.</p>
<p>Additionally there is also the possibility of locks on parent nodes, so we'll need to traverse every part of the tree</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$uri</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="a614692d562aa480843999e2ca6a78466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614692d562aa480843999e2ca6a78466">&#9670;&nbsp;</a></span>getTimeoutHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getTimeoutHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the contents of the HTTP Timeout header.</p>
<p>The method formats the header into an integer.</p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="acb4e905c71b4daf4f6c36a58a6a91213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4e905c71b4daf4f6c36a58a6a91213">&#9670;&nbsp;</a></span>httpLock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">httpLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Locks an uri</p>
<p>The WebDAV lock request can be operated to either create a new lock on a file, or to refresh an existing lock If a new lock is created, a full XML body should be supplied, containing information about the lock such as the type of lock (shared or exclusive) and the owner of the lock</p>
<p>If a lock is to be refreshed, no body should be supplied and there should be a valid If header containing the lock</p>
<p>Additionally, a lock can be requested for a non-existant file. In these case we're obligated to create an empty file as per RFC4918:S7.3</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a1ed27152a41aae640bd6413945d9061a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed27152a41aae640bd6413945d9061a">&#9670;&nbsp;</a></span>httpUnlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">httpUnlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unlocks a uri</p>
<p>This WebDAV method allows you to remove a lock from a node. The client should provide a valid locktoken through the Lock-token http header The server should return 204 (No content) on success</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="aa875dedc927a6ce31cc1655aa68bf6ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa875dedc927a6ce31cc1655aa68bf6ea">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dbf/class_sabre___d_a_v___server.html">Sabre_DAV_Server</a>&#160;</td>
          <td class="paramname"><em>$server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the plugin</p>
<p>This method is automatically called by the Server class after addPlugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dd/dbf/class_sabre___d_a_v___server.html">Sabre_DAV_Server</a></td><td class="paramname">$server</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="ab7e4230107e7286fd97ba95af182f651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e4230107e7286fd97ba95af182f651">&#9670;&nbsp;</a></span>lockNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lockNode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a>&#160;</td>
          <td class="paramname"><em>$lockInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks a uri</p>
<p>All the locking information is supplied in the lockInfo object. The object has a suggested timeout, but this can be safely ignored It is important that if the existing timeout is ignored, the property is overwritten, as this needs to be sent back to the client</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$uri</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a></td><td class="paramname">$lockInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="af119741122fbe8bf5058ffa4bd186c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af119741122fbe8bf5058ffa4bd186c11">&#9670;&nbsp;</a></span>parseLockRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parseLockRequest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$body</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parses a webdav lock xml body, and returns a new <a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$body</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a> </dd></dl>

</div>
</div>
<a id="ac6c8af014d144f77035c7456d42f6724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c8af014d144f77035c7456d42f6724">&#9670;&nbsp;</a></span>unknownMethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unknownMethod </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is called by the Server if the user used an HTTP method the server didn't recognize.</p>
<p>This plugin intercepts the LOCK and UNLOCK methods.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a2cd58e95113d73ac597fe0cc9f31f3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd58e95113d73ac597fe0cc9f31f3ba">&#9670;&nbsp;</a></span>unlockNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unlockNode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a>&#160;</td>
          <td class="paramname"><em>$lockInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks a uri</p>
<p>This method removes a lock from a uri. It is assumed all the supplied information is correct and verified</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$uri</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a></td><td class="paramname">$lockInfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a404f18e675b2a881d25cf48cf309ed15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404f18e675b2a881d25cf48cf309ed15">&#9670;&nbsp;</a></span>validateLock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">validateLock </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$urls</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$lastLock</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>validateLock should be called when a write operation is about to happen It will check if the requested url is locked, and see if the correct lock tokens are passed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$urls</td><td>List of relevant urls. Can be an array, a string or nothing at all for the current request uri </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$lastLock</td><td>This variable will be populated with the last checked lock object (<a class="el" href="../../d1/d01/class_sabre___d_a_v___locks___lock_info.html">Sabre_DAV_Locks_LockInfo</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Michel/Desktop/test/xf/library/Sabre/Sabre/DAV/Locks/Plugin.php</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/dbe/class_sabre___d_a_v___locks___plugin.html">Sabre_DAV_Locks_Plugin</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
