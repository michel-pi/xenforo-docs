<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XenForo: CalculateNextRun Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XenForo
   &#160;<span id="projectnumber">2.1.0 - RC</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">CalculateNextRun Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for CalculateNextRun:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.png" usemap="#CalculateNextRun_map" alt=""/>
  <map id="CalculateNextRun_map" name="CalculateNextRun_map">
<area href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html" alt="AbstractService" shape="rect" coords="0,0,112,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a770faea5638ca4255a985f463982395b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#a770faea5638ca4255a985f463982395b">calculateNextRunTime</a> (array $runRules, $currentTime=null)</td></tr>
<tr class="separator:a770faea5638ca4255a985f463982395b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0ea3977d18ce961eb8361825005544"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#a9b0ea3977d18ce961eb8361825005544">updateCronRunTimeAtomic</a> (\<a class="el" href="../../df/dba/class_x_f_1_1_entity_1_1_cron_entry.html">XF\Entity\CronEntry</a> $entry)</td></tr>
<tr class="separator:a9b0ea3977d18ce961eb8361825005544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc27f242588baa4064de1a12428f465d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#abc27f242588baa4064de1a12428f465d">getMinimumNextRunTime</a> ()</td></tr>
<tr class="separator:abc27f242588baa4064de1a12428f465d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088d7964d3d19d3ed02f3f8a567805fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#a088d7964d3d19d3ed02f3f8a567805fe">updateMinimumNextRunTime</a> ()</td></tr>
<tr class="separator:a088d7964d3d19d3ed02f3f8a567805fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_x_f_1_1_service_1_1_abstract_service"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_x_f_1_1_service_1_1_abstract_service')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html">AbstractService</a></td></tr>
<tr class="memitem:a65961475aa839f3f55f9c3106a9a5e26 inherit pub_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top"><a id="a65961475aa839f3f55f9c3106a9a5e26"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> (\<a class="el" href="../../d1/df7/class_x_f_1_1_app.html">XF\App</a> $<a class="el" href="../../da/d24/class_x_f.html#a80e690469f004e7b2484fc3c63a4e7a3">app</a>)</td></tr>
<tr class="separator:a65961475aa839f3f55f9c3106a9a5e26 inherit pub_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c988e7d015fb0d8dca08d6d02d67651 inherit pub_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a1c988e7d015fb0d8dca08d6d02d67651">service</a> ($class)</td></tr>
<tr class="separator:a1c988e7d015fb0d8dca08d6d02d67651 inherit pub_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5c16756a7690a53ec9910bd55c8e32be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#a5c16756a7690a53ec9910bd55c8e32be">modifyRunTimeMinutes</a> (array $minuteRules, \DateTime &amp;$nextRun)</td></tr>
<tr class="separator:a5c16756a7690a53ec9910bd55c8e32be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97aa194425cc2f171532ecee11b4d42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#ab97aa194425cc2f171532ecee11b4d42">modifyRunTimeHours</a> (array $hourRules, \DateTime &amp;$nextRun)</td></tr>
<tr class="separator:ab97aa194425cc2f171532ecee11b4d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa48b770d83ba4214341d772c3a7df9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#abaa48b770d83ba4214341d772c3a7df9">modifyRunTimeDayOfMonth</a> (array $dayRules, \DateTime &amp;$nextRun)</td></tr>
<tr class="separator:abaa48b770d83ba4214341d772c3a7df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac538e8f0cf2fad0b9f581de773ffcd4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#ac538e8f0cf2fad0b9f581de773ffcd4b">modifyRunTimeDayOfWeek</a> (array $dayRules, \DateTime &amp;$nextRun)</td></tr>
<tr class="separator:ac538e8f0cf2fad0b9f581de773ffcd4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8b357bb431090fcb5cf4ff426c2a5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html#a0e8b357bb431090fcb5cf4ff426c2a5f">modifyRunTimeUnits</a> (array $unitRules, \DateTime &amp;$nextRun, $currentUnitValue, $unitName, $rolloverUnitName)</td></tr>
<tr class="separator:a0e8b357bb431090fcb5cf4ff426c2a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_x_f_1_1_service_1_1_abstract_service')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html">AbstractService</a></td></tr>
<tr class="memitem:a1d04139db3a5ad5713ecbd14d97da879 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top"><a id="a1d04139db3a5ad5713ecbd14d97da879"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setup</b> ()</td></tr>
<tr class="separator:a1d04139db3a5ad5713ecbd14d97da879 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2dfcff06cad1e6c249ddc4df4d0866 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#abf2dfcff06cad1e6c249ddc4df4d0866">db</a> ()</td></tr>
<tr class="separator:abf2dfcff06cad1e6c249ddc4df4d0866 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605ef153deddaa1caecd554de23b5d38 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a605ef153deddaa1caecd554de23b5d38">em</a> ()</td></tr>
<tr class="separator:a605ef153deddaa1caecd554de23b5d38 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993f3c3006fbc9059514925e3b1392b5 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a993f3c3006fbc9059514925e3b1392b5">repository</a> ($repository)</td></tr>
<tr class="separator:a993f3c3006fbc9059514925e3b1392b5 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ebeb96f86d6e9d8351342a5da48d71 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a95ebeb96f86d6e9d8351342a5da48d71">finder</a> ($finder)</td></tr>
<tr class="separator:a95ebeb96f86d6e9d8351342a5da48d71 inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127196dc527314609f441b3b9e45eecd inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a127196dc527314609f441b3b9e45eecd">findOne</a> ($<a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html#a95ebeb96f86d6e9d8351342a5da48d71">finder</a>, array $where, $with=null)</td></tr>
<tr class="separator:a127196dc527314609f441b3b9e45eecd inherit pro_methods_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_x_f_1_1_service_1_1_abstract_service"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_x_f_1_1_service_1_1_abstract_service')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d4/d03/class_x_f_1_1_service_1_1_abstract_service.html">AbstractService</a></td></tr>
<tr class="memitem:adfb117f244076aa9bc269269f7e57403 inherit pro_attribs_class_x_f_1_1_service_1_1_abstract_service"><td class="memItemLeft" align="right" valign="top"><a id="adfb117f244076aa9bc269269f7e57403"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$app</b></td></tr>
<tr class="separator:adfb117f244076aa9bc269269f7e57403 inherit pro_attribs_class_x_f_1_1_service_1_1_abstract_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a770faea5638ca4255a985f463982395b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770faea5638ca4255a985f463982395b">&#9670;&nbsp;</a></span>calculateNextRunTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">calculateNextRunTime </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$runRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currentTime</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the next run time for an entry using the given rules. Rules expected in keys: minutes, hours, dow, dom (all arrays) and day_type (string: dow or dom) Array rules are in format: -1 means "any", any other value means on those specific occurances. DoW runs 0 (Sunday) to 6 (Saturday).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$runRules</td><td>Run rules. See above for format. </td></tr>
    <tr><td class="paramtype">integer&#160;|&#160;null</td><td class="paramname">$currentTime</td><td>Current timestamp; null to use current time from application</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer Next run timestamp </dd></dl>

</div>
</div>
<a id="abc27f242588baa4064de1a12428f465d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc27f242588baa4064de1a12428f465d">&#9670;&nbsp;</a></span>getMinimumNextRunTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getMinimumNextRunTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the minimum next run time stamp (ie, time next entry is due to run).</p>
<dl class="section return"><dt>Returns</dt><dd>integer </dd></dl>

</div>
</div>
<a id="abaa48b770d83ba4214341d772c3a7df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa48b770d83ba4214341d772c3a7df9">&#9670;&nbsp;</a></span>modifyRunTimeDayOfMonth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyRunTimeDayOfMonth </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$dayRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">\DateTime &amp;&#160;</td>
          <td class="paramname"><em>$nextRun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the next run time based on the day of month rules. Note that if the required DoM doesn't exist (eg, Feb 30), it will be rolled over as if it did (eg, to Mar 2).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$hourRules</td><td>Rules about what days are valid (-1, or any number of values 0-31) </td></tr>
    <tr><td class="paramtype">\DateTime</td><td class="paramname">$nextRun</td><td>Date calculation object. This will be modified. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac538e8f0cf2fad0b9f581de773ffcd4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac538e8f0cf2fad0b9f581de773ffcd4b">&#9670;&nbsp;</a></span>modifyRunTimeDayOfWeek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyRunTimeDayOfWeek </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$dayRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">\DateTime &amp;&#160;</td>
          <td class="paramname"><em>$nextRun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the next run time based on the day of week rules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$hourRules</td><td>Rules about what days are valid (-1, or any number of values 0-6 [sunday to saturday]) </td></tr>
    <tr><td class="paramtype">\DateTime</td><td class="paramname">$nextRun</td><td>Date calculation object. This will be modified. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab97aa194425cc2f171532ecee11b4d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97aa194425cc2f171532ecee11b4d42">&#9670;&nbsp;</a></span>modifyRunTimeHours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyRunTimeHours </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$hourRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">\DateTime &amp;&#160;</td>
          <td class="paramname"><em>$nextRun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the next run time based on the hour rules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$hourRules</td><td>Rules about what hours are valid (-1, or any number of values 0-23) </td></tr>
    <tr><td class="paramtype">\DateTime</td><td class="paramname">$nextRun</td><td>Date calculation object. This will be modified. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c16756a7690a53ec9910bd55c8e32be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c16756a7690a53ec9910bd55c8e32be">&#9670;&nbsp;</a></span>modifyRunTimeMinutes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyRunTimeMinutes </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$minuteRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">\DateTime &amp;&#160;</td>
          <td class="paramname"><em>$nextRun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifies the next run time based on the minute rules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$minuteRules</td><td>Rules about what minutes are valid (-1, or any number of values 0-59) </td></tr>
    <tr><td class="paramtype">\DateTime</td><td class="paramname">$nextRun</td><td>Date calculation object. This will be modified. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e8b357bb431090fcb5cf4ff426c2a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8b357bb431090fcb5cf4ff426c2a5f">&#9670;&nbsp;</a></span>modifyRunTimeUnits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyRunTimeUnits </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$unitRules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">\DateTime &amp;&#160;</td>
          <td class="paramname"><em>$nextRun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currentUnitValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$unitName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolloverUnitName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>General purpose run time calculator for a set of rules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$unitRules</td><td>List of rules for unit. Array of ints, values -1 to unit-defined max. </td></tr>
    <tr><td class="paramtype">\DateTime</td><td class="paramname">$nextRun</td><td>Date calculation object. This will be modified. </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$currentUnitValue</td><td>The current value for the specified unit type </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$unitName</td><td>Name of the current unit (eg, minute, hour, day, etc) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$rolloverUnitName</td><td>Name of the unit to use when rolling over; one unit bigger (eg, minutes to hours) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b0ea3977d18ce961eb8361825005544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0ea3977d18ce961eb8361825005544">&#9670;&nbsp;</a></span>updateCronRunTimeAtomic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateCronRunTimeAtomic </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../df/dba/class_x_f_1_1_entity_1_1_cron_entry.html">XF\Entity\CronEntry</a>&#160;</td>
          <td class="paramname"><em>$entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Atomically update the next run time for a cron entry. This allows you to determine whehter a cron entry still needs to be run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">\XF\Entity\CronEntry</td><td class="paramname">$entry</td><td>Cron entry info</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean True if updated (thus safe to run), false otherwise </dd></dl>

</div>
</div>
<a id="a088d7964d3d19d3ed02f3f8a567805fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088d7964d3d19d3ed02f3f8a567805fe">&#9670;&nbsp;</a></span>updateMinimumNextRunTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateMinimumNextRunTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the entry for the minimum next run time. Cron calls are not needed until that point.</p>
<dl class="section return"><dt>Returns</dt><dd>integer Minimum next run time </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Michel/Downloads/XenForo-2.1.0-RC1/XenForo-2.1.0-RC1/upload/src/XF/Service/CronEntry/CalculateNextRun.php</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/d5a/namespace_x_f.html">XF</a></li><li class="navelem"><b>Service</b></li><li class="navelem"><b>CronEntry</b></li><li class="navelem"><a class="el" href="../../db/d50/class_x_f_1_1_service_1_1_cron_entry_1_1_calculate_next_run.html">CalculateNextRun</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
